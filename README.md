# **JavaScript Style Guide**

### ++Код должен быть максимально читаемым и понятным.++
 Это и есть искусство программирования – взять сложную задачу и написать такой код для её решения, который и правильно работает, и легко читается, понятен для людей. Для этого нужен хороший стиль написания кода. 

**Ни одно правило не является жёстко обязательным**
*Здесь нет железных правил. Это стилевые предпочтения, а не религиозные догмы.* ;)
___

---

***

## **1. Фигурные скобки**
---
### В большинстве JavaScript проектов фигурные скобки пишутся в так называемом «египетском» стиле с открывающей скобкой на той же строке, что и соответствующее ключевое слово – не на новой строке. Перед открывающей скобкой должен быть пробел, как здесь:
``` js
if (condition) {
  // делай это
  // ...и это
  // ...и потом это
}
``` 

## **2. Длина строки**
---
### Никто не любит читать длинные горизонтальные строки кода. Лучше всего разбивать их, например:
``` js
// обратные кавычки ` позволяют разделять строку на части
let str = `
  Рабочая группа TC39 организации Ecma International -
  это группа JavaScript-разработчиков, теоретиков и авторов движков JavaScript,
  которые вместе с сообществом занимаются поддержкой и развитием языка JavaScript.
`;
``` 
Или для if:
``` js
if (
  id === 123 &&
  moonPhase === 'Waning Gibbous' &&
  zodiacSign === 'Libra'
) {
  letTheSorceryBegin();
}
``` 
Максимальную длину строки согласовывают в команде. Обычно это `80` или `120` символов.

## **3. Отступы**
---
### Существует два типа отступов:

**Горизонтальные отступы: два или четыре пробела.**

Горизонтальный отступ выполняется с помощью 2 или 4 пробелов, или символа табуляции (клавиша ==Tab==). Какой из них выбрать – это уже на ваше усмотрение. Пробелы больше распространены.

Одно из преимуществ пробелов над табуляцией заключается в том, что пробелы допускают более гибкие конфигурации отступов, чем символ табуляции.

Например, мы можем выровнять аргументы относительно открывающей скобки:
``` js
show(parameters,
     aligned, // 5 пробелов слева
     one,
     after,
     another
  ) {
  // ...
}
```
**Вертикальные отступы: пустые строки для разбивки кода на «логические блоки».**

Даже одну функцию часто можно разделить на логические блоки. В примере ниже разделены инициализация переменных, основной цикл и возвращаемый результат:
``` js
function pow(x, n) {
  let result = 1;
  //              <--
  for (let i = 0; i < n; i++) {
    result *= x;
  }
  //              <--
  return result;
}
```
Вставляйте дополнительный перевод строки туда, где это сделает код более читаемым. Не должно быть более 9 строк кода подряд без вертикального отступа.

## **4. Точка с запятой**
---
### *Точки с запятой должны присутствовать после каждого выражения, даже если их, казалось бы, можно пропустить.*

Есть языки, в которых точка с запятой необязательна и редко используется. Однако в JavaScript бывают случаи, когда перенос строки не интерпретируется, как точка с запятой, что может привести к ошибкам. Подробнее об этом – в главе о структуре кода.

Если вы – опытный разработчик на JavaScript, то можно выбрать стиль кода без точек с запятой, например StandardJS. В ином случае, лучше будет использовать точки с запятой, чтобы избежать подводных камней. Большинство разработчиков их ставят.

## **5. Уровни вложенности**
---
### Уровней вложенности должно быть немного.
Например, в цикле бывает полезно использовать директиву ==continue==, чтобы избежать лишней вложенности.
Например, вместо добавления вложенного условия ==if==, как здесь:
``` js
for (let i = 0; i < 10; i++) {
  if (cond) {
    ... // <- ещё один уровень вложенности
  }
}
```
Мы можем написать:
``` js
for (let i = 0; i < 10; i++) {
  if (!cond) continue;
  ...  // <- нет лишнего уровня вложенности
}
```
Аналогичная ситуация – с ==if/else== и ==return==.

## **6. Размещение функций**
---
### Если вы пишете несколько вспомогательных функций, а затем используемый ими код, то существует три способа организации функций.
*1. Объявить функции перед кодом, который их вызовет:*
``` js
// объявление функций
function createElement() {
  ...
}

function setHandler(elem) {
  ...
}

function walkAround() {
  ...
}

// код, который использует их
let elem = createElement();
setHandler(elem);
walkAround();
```

*2. Сначала код, затем функции*
``` js
// код, использующий функции
let elem = createElement();
setHandler(elem);
walkAround();

// --- вспомогательные функции ---
function createElement() {
  ...
}

function setHandler(elem) {
  ...
}

function walkAround() {
  ...
}
```

*3. Смешанный стиль: функция объявляется там, где она используется впервые.*

В большинстве случаев второй вариант является предпочтительным.

Это потому, что при чтении кода мы сначала хотим знать, *что он делает*. Если сначала идёт код, то это тут же становится понятно. И тогда, может быть, нам вообще не нужно будет читать функции, особенно если их имена хорошо подобраны.

## **7. Используйте понятные имена переменных и функций**
---
Код гораздо легче читать, когда при его написании используют понятные, описательные имена функций и переменных. Вот не очень понятный код:
``` js
function avg (a) {
	let s = a.reduce((x,y ) => x + y)
  return s / a.length
}
```
Его читабельность значительно улучшится, если использовать в нём понятные имена переменных и функций, отражающие их смысл.
``` js
function averageArray (array) {
	let sum = array.reduce((number, currentSum ) => number + currenSum)
  return sum / array.length
}
```

Не стремитесь к минимализму при написании текстов программ. Используйте полные имена переменных, которые тот, кто будет работать с вашим кодом в будущем, легко сможет понять.

## **8. Комментарии**
---
### Для пояснения кода используются комментарии. Комментарии не исполняются интерпретатором JavaScript.

Однострочные комментарии начинаются с двойного слэша `//`. За ним обязательно должен идти пробел;
Многострочные комментарии располагаются между `/*` и `*/`. За символом начала комментария обязательно должен идти пробел. Символ конца комментария располагается на новой строке.

## **9. Неиспользуемый код**
---
В проекте нет недоступного кода, который никогда не выполнится.

В коде нет объявленных, но неиспользуемых переменных

В коде нет выражений, значения которых не записываются в переменные, параметры функций или свойства объектов и не передаются как параметры функций

## **10. Подумайте об использований правил Сэнди Метц**

Сэнди Метц отлично программирует на Ruby, делает интересные доклады и пишет книги. Она сформулировала четыре правила написания чистого кода в объектно-ориентированных языках. Вот они.
+ Классы не должны быть длиннее 100 строк кода.
+ Методы и функции не должны быть длиннее 5 строк кода.
+ Методам следует передавать не более 4 параметров.
+ Контроллеры могут инициализировать лишь один объект.
+ Рекомендую посмотреть её [выступление](https://www.youtube.com/watch?v=npOGOmkxuio), касающееся этих правил.

## **ИТОГИ**
---
8-) В этом материале мы поделились с вами некоторыми рекомендациями по написанию чистого и понятного кода. Однако, это — лишь рекомендации. Это — советы, способствующие написанию качественных текстов программ. Если систематически применять правила, подобные изложенным здесь, то, в сравнении с кодом, при написании которого нечто подобное не применяется, код, написанный с использованием правил, будет получаться более понятным, его легче будет расширять, сопровождать и использовать повторно.